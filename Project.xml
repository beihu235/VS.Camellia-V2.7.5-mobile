<?xml version="1.0" encoding="utf-8"?>
<project>

	<!-- application stuff -->
	<app title="Friday Night Funkin': Vs. Camellia" file="VS.Camellia V2.7.5" packageName="com.VS.Camellia3" package="com.VS.Camellia3" main="Main" version="3.0.0" company="Camellia"/>

	<window width="1280" height="720" fps="120" background="#000000" hardware="true" vsync="false" />
	<window if="mobile" orientation="landscape" fullscreen="true" resizable="false" allow-shaders="true" require-shaders="true" allow-high-dpi="true" vsync="false" />
	<window orientation="landscape" fullscreen="false" resizable="true"/>
	<window antialiasing="0" allow-high-dpi="true"/>

	<!-- defines -->
	<!--<define name="IS_TESTBUILD" />-->

	<!-- THIS ALSO AFFECTS MODCHARTS AS WELL KEEP THAT IN MIND -->
	<define name="SCRIPTS_ALLOWED"/>
	<define name="ADDONS_ALLOWED"/>
	<define name="VIDEOS_ALLOWED" if="cpp"/>
	<!--define name="DISCORD_ALLOWED"/-->
	<define name="AWARDS_ALLOWED"/>
	
	<!-- makes errors show exactly what the issue is instead of being vague -->
	<haxedef name="message.reporting" value="pretty" />

	<!-- codebase -->
	<set name="BUILD_DIR" value="export/debug" if="debug" />
	<set name="BUILD_DIR" value="export/release" unless="debug" />
	<set name="BUILD_DIR" value="export/32bit" if="32bits" />

	<source path="src" />
	
	<!-- use templates for assets -->
	<section unless="mac || android">
		<assets path="assets" type="template"/>
		<assets path="addons" type="template" if="ADDONS_ALLOWED"/>
	</section>

	<section if="android">
		<assets path="assets"/>
		<assets path="addons" if="ADDONS_ALLOWED"/>
	</section>
	
	<!--
		...unless we're on macOS, then don't because lime is stupid and places
		these folders in the wrong location in the final .app file
	-->
	<section if="mac">
		<assets path="assets"/>
		<assets path="addons" if="ADDONS_ALLOWED"/>
	</section>

	<!-- libraries -->
	<haxelib name="lime"/>
	<haxelib name="openfl"/>
	<haxelib name="flixel" version="5.5.0" />
	<haxelib name="flixel-addons" version="3.0.2"/>
	<haxelib name="hxdiscord_rpc" version="1.2.4" if="DISCORD_ALLOWED"/>
	<haxelib name="hxjson5"/>
	<haxelib name="moonchart"/>
	<haxelib name="hxvlc" if="VIDEOS_ALLOWED"/>
	<haxelib name="flixel-animate"/>

	<haxelib name="hscript-iris" if="SCRIPTS_ALLOWED"/>
	<haxelib name="hscript" if="debug" /> <!-- for debugging -->

	<haxelib name="extension-androidtools" if="android" />

	<!-- miscellaneous -->

	<!--define name="FLX_NO_TOUCH" unless="mobile" /-->
	<!--<define name="FLX_NO_GAMEPAD"/>-->
	<define name="FLX_NO_DEBUG" unless="debug" />

	<define name="HXCPP_CHECK_POINTER" />
	<define name="HXCPP_STACK_LINE" />
	<define name="HXCPP_STACK_TRACE" />
	<define name="HXCPP_CATCH_SEGV" />

	<define name="HXCPP_GC_DISABLE" />
	<define name="HXCPP_GC_DYNAMIC_SIZE" />
	<define name="HXCPP_ALIGN_ALLOC"/>
	<define name="HXCPP_GC_GENERATIONAL" />
	<!--define name="HXCPP_GC_BIG_BLOCKS"/-->

	<haxedef name="lime_threads" if="cpp || hl || neko || java || cs || nodejs" />

	<define name="IRIS_DEBUG"/>
	<define name="hscriptPos"/>

	<define name="no-deprecation-warnings" />
	<haxedef name="FLX_NO_FOCUS_LOST_SCREEN" />

	<!-- Fix compiling issues -->
    <setenv name="HAXEPATH" value="./"/>
	
	<assets path="alsoft.txt" rename="alsoft.ini" type="text" if="windows"/>
	<assets path="alsoft.txt" rename="alsoft.conf" type="text" unless="windows"/>

	<icon path="icons/icon16.png" size='16' />
	<icon path="icons/icon32.png" size='32' />
	<icon path="icons/icon64.png" size='64' />
	<icon path="icons/icon128.png" size='128' />
	<icon path="icons/icon256.png" size='256' />
	<icon path="icons/icon512.png" size='512' />
	<icon path="icons/iconOG.png" />

	<haxeflag name="--macro" value="allowPackage('flash')" />


	<certificate path="key.keystore" password="novaFlare" alias="psychport" alias-password="novaFlare" if="android" unless="debug" />

	<config>
		<android gradle-version="8.7" />
		<android gradle-plugin="8.6.0" />
		<android minimum-sdk-version="24" />
		<android target-sdk-version= "35" />
		<!--Fuck you xcode-->
		<ios deployment="13.6"/>
	</config>

</project>
